(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"031a":function(t,i,a){var e=a("c86c");i=e(!1),i.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-18b29a50], uni-scroll-view[data-v-18b29a50], uni-swiper-item[data-v-18b29a50]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-scroll-list[data-v-18b29a50]{padding-bottom:10px}.u-scroll-list__scroll-view[data-v-18b29a50]{display:flex;flex-direction:row}.u-scroll-list__scroll-view__content[data-v-18b29a50]{display:flex;flex-direction:row}.u-scroll-list__indicator[data-v-18b29a50]{display:flex;flex-direction:row;justify-content:center;margin-top:15px}.u-scroll-list__indicator__line[data-v-18b29a50]{width:60px;height:4px;border-radius:100px;overflow:hidden}.u-scroll-list__indicator__line__bar[data-v-18b29a50]{width:20px;height:4px;border-radius:100px}',""]),t.exports=i},"03ac":function(t,i,a){"use strict";a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return o})),a.d(i,"a",(function(){return e}));var e={uIcon:a("243f").default,uScrollList:a("106b").default,uOverlay:a("cd94").default},n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"page-body"},[a("v-uni-view",{staticClass:"sign-title"},[a("v-uni-view",{staticClass:"headimg"},[t._v(t._s(t.dakarenInfo.username.substr(-2)))]),a("v-uni-view",{staticClass:"info"},[a("v-uni-view",{staticClass:"name"},[t._v(t._s(t.dakarenInfo.username))]),a("v-uni-view",{staticClass:"address"},[a("v-uni-view",{staticClass:"content"},[t._v(t._s(t.dakarenInfo.organ_name))]),a("v-uni-view",{staticClass:"btn"},[t._v("查看打卡规则")])],1)],1)],1),a("v-uni-view",{staticStyle:{"background-color":"#F5f5f5",height:"25upx"}}),a("v-uni-view",[a("v-uni-view",{staticClass:"dakaInfo"},[a("u-icon",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{name:"https://img.jinshengyun.cn/FufAFUkws_TyhEOFJw82TF_tp8Zt",size:"15"}}),a("v-uni-text",{staticClass:"tab"},[t._v("已打卡")]),a("v-uni-text",{staticClass:"tabColor"},[t._v(t._s(t.allInfo.dakacount))]),a("v-uni-text",{staticClass:"tab"},[t._v("/"+t._s(t.banci.length))]),a("v-uni-text",[t._v("迟到")]),a("v-uni-text",{staticClass:"tab tabColor"},[t._v(t._s(t.allInfo.chidaocount))]),a("v-uni-text",[t._v("早退")]),a("v-uni-text",{staticClass:"tabColor"},[t._v(t._s(t.allInfo.zaotuicount))]),a("u-scroll-list",{staticStyle:{"text-align":"left","margin-top":"20upx"},attrs:{indicator:!1}},t._l(t.banci,(function(i,e){return a("v-uni-view",{key:e,staticStyle:{position:"relative"}},[a("v-uni-view",{staticClass:"itemInfo"},[a("v-uni-view",{staticClass:"banciName"},[t._v(t._s(i.type)+t._s(i.time))]),"未打卡"==i.status?a("v-uni-view",[t._v("未打卡")]):t._e(),"未打卡"!==i.status?a("v-uni-view",["已打卡"==i.status?a("u-icon",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-right":"10upx"},attrs:{size:"15",name:"https://img.jinshengyun.cn/FgfbhPFnGWhHBQmKSyPUktN0QOY3"}}):t._e(),a("v-uni-text",{staticClass:"dakatime"},[t._v(t._s(t._f("date")(i.dakaTime,"hh:MM")))]),"已打卡"==i.status?a("v-uni-text",[t._v("已打卡")]):t._e(),"已打卡"!==i.status?a("v-uni-text",{staticClass:"yichang"},[t._v(t._s(i.status))]):t._e()],1):t._e()],1),1==i.is_waiqin?a("v-uni-view",{staticClass:"waiqinShow"},[t._v("外勤")]):t._e()],1)})),1)],1)],1),a("v-uni-view",{staticStyle:{"margin-top":"250upx"}},[a("v-uni-view",[a("v-uni-view",{staticClass:"module CBlue",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickSign(1)}}},[a("v-uni-view",{staticClass:"text"},[t._v(t._s(t.dakaType))]),a("v-uni-view",{staticClass:"time"},[t._v(t._s(t.time))])],1)],1),a("v-uni-view",{staticClass:"colorRed",staticStyle:{"text-align":"center"}},[t.wifi.length<1?a("v-uni-view",{staticStyle:{color:"#F29900"}},[a("u-icon",{staticStyle:{display:"inline-block"},attrs:{name:"map-fill",color:"#F29900"}}),t._v(t._s(t.street))],1):t._e(),a("v-uni-view",[t._v("当前WIFI:"+t._s(t.nowWifi.wifi))])],1)],1)],1),a("u-overlay",{attrs:{show:t.model.show}},[a("v-uni-view",{staticClass:"warp"},[a("v-uni-view",{staticClass:"rect"},[a("v-uni-view",{staticClass:"modeltitle"},[t._v(t._s(t.model.title))]),a("v-uni-view",{staticClass:"modeldes"},[t._v(t._s(t.model.content))])],1)],1)],1)],1)},o=[]},"0631":function(t,i,a){"use strict";a("6a54");var e=a("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(a("2634")),o=e(a("2fdc")),s=e(a("28ea")),d={name:"u-scroll-list",mixins:[uni.$u.mpMixin,uni.$u.mixin,s.default],data:function(){return{scrollInfo:{scrollLeft:0,scrollWidth:0},scrollWidth:0}},computed:{barStyle:function(){var t={};return t.width=uni.$u.addUnit(this.indicatorBarWidth),t.backgroundColor=this.indicatorActiveColor,t},lineStyle:function(){var t={};return t.width=uni.$u.addUnit(this.indicatorWidth),t.backgroundColor=this.indicatorColor,t}},mounted:function(){this.init()},methods:{init:function(){this.getComponentWidth()},scrollEvent:function(t){this.$emit(t)},getComponentWidth:function(){var t=this;return(0,o.default)((0,n.default)().mark((function i(){return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,uni.$u.sleep(30);case 2:t.$uGetRect(".u-scroll-list").then((function(i){t.scrollWidth=i.width}));case 3:case"end":return i.stop()}}),i)})))()}}};i.default=d},"081a":function(t,i,a){"use strict";var e=a("3560"),n=a.n(e);n.a},"106b":function(t,i,a){"use strict";a.r(i);var e=a("7d83"),n=a("8e2f");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return n[t]}))}(o);a("081a");var s=a("828b"),d=a("1815"),r=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,"18b29a50",null,!1,e["a"],void 0);"function"===typeof d["a"]&&Object(d["a"])(r),i["default"]=r.exports},"11d4":function(t,i,a){var e=a("39da");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("967d").default;n("b8c938d4",e,!0,{sourceMap:!1,shadowMode:!1})},1642:function(t,i,a){"use strict";var e=a("54b4"),n=a.n(e);n.a},1815:function(t,i,a){"use strict";i["a"]=function(t){(t.options.wxs||(t.options.wxs={}))["wxs"]=function(t){function i(t,i){t.selectComponent(".u-scroll-list__indicator__line__bar")&&t.selectComponent(".u-scroll-list__indicator__line__bar").setStyle({transform:"translateX("+i+"px)"})}return t.exports={scroll:function(t,a){var e=t.detail,n=e.scrollWidth,o=e.scrollLeft,s=t.currentTarget.dataset,d=s.scrollWidth||s.scrollwidth||0,r=s.indicatorWidth||s.indicatorwidth||0,l=s.barWidth||s.barwidth||0,c=o/(n-d)*(r-l);i(a,c)},scrolltolower:function(t,a){a.callMethod("scrollEvent","right");var e=t.currentTarget.dataset,n=e.indicatorWidth||e.indicatorwidth||0,o=e.barWidth||e.barwidth||0;i(a,n-o)},scrolltoupper:function(t,a){a.callMethod("scrollEvent","left"),i(a,0)}},t.exports}({exports:{}})}},"21d1":function(t,i,a){"use strict";a.r(i);var e=a("9646"),n=a.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a},"28ea":function(t,i,a){"use strict";a("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("64aa");var e={props:{indicatorWidth:{type:[String,Number],default:uni.$u.props.scrollList.indicatorWidth},indicatorBarWidth:{type:[String,Number],default:uni.$u.props.scrollList.indicatorBarWidth},indicator:{type:Boolean,default:uni.$u.props.scrollList.indicator},indicatorColor:{type:String,default:uni.$u.props.scrollList.indicatorColor},indicatorActiveColor:{type:String,default:uni.$u.props.scrollList.indicatorActiveColor},indicatorStyle:{type:[String,Object],default:uni.$u.props.scrollList.indicatorStyle}}};i.default=e},3560:function(t,i,a){var e=a("031a");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("967d").default;n("741cd49c",e,!0,{sourceMap:!1,shadowMode:!1})},"39da":function(t,i,a){var e=a("c86c");i=e(!1),i.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.map[data-v-daed9d7e]{width:100%;height:260px}.uni-list-cell-left[data-v-daed9d7e]{padding:0 %?30?%}.text-desc[data-v-daed9d7e]{display:flex;justify-content:space-between;padding:%?10?% %?20?%}.colorRed[data-v-daed9d7e]{color:#3296fa}.colorGreen[data-v-daed9d7e]{color:#f29900}.colorYellow[data-v-daed9d7e]{color:#ff0}.colorBlue[data-v-daed9d7e]{color:#3296fa}.bgBlue[data-v-daed9d7e]{background-color:#3296fa}.bgGreen[data-v-daed9d7e]{background-color:#f29900}.bgAsh[data-v-daed9d7e]{background-color:#c8c7cc}.uni-timeline[data-v-daed9d7e]{padding:%?30?% %?20?%}.uni-timeline-item-content-t[data-v-daed9d7e]{font-weight:700}.desc-pad[data-v-daed9d7e]{padding:0 %?0?%}.desc-pad .bz[data-v-daed9d7e]{color:#007aff}.desc-pad .bz .icon[data-v-daed9d7e]{color:#007aff}.uni-timeline-last-item .uni-timeline-item-divider[data-v-daed9d7e]{background:#bbb}.CBlue[data-v-daed9d7e]{background-color:#3296fa}.CGreen[data-v-daed9d7e]{background-color:#f29900}.CAsh[data-v-daed9d7e]{background-color:#c8c7cc}.module[data-v-daed9d7e]{overflow:hidden;margin:%?20?% auto;width:%?220?%;height:%?220?%;border-radius:50%;color:#fff;text-align:center}.module .text[data-v-daed9d7e]{font-size:%?30?%;margin-top:%?70?%}.module .time[data-v-daed9d7e]{font-size:%?20?%;margin:0}.uni-timeline-item .uni-timeline-item-content[data-v-daed9d7e]{width:100%;padding-right:%?20?%}.content-show[data-v-daed9d7e]{width:100%}.sign-title[data-v-daed9d7e]{display:flex;align-items:center;padding:%?24?%}.sign-title .headimg[data-v-daed9d7e]{width:%?100?%;height:%?100?%;border-radius:%?16?%;background:#1989fa;color:#fff;font-size:%?36?%;display:flex;justify-content:center;align-items:center;flex-shrink:0}.sign-title .info[data-v-daed9d7e]{width:100%;margin-left:%?20?%}.sign-title .info .name[data-v-daed9d7e]{font-size:%?36?%;color:#233;line-height:%?52?%}.sign-title .info .address[data-v-daed9d7e]{display:flex;font-size:%?26?%;line-height:%?40?%}.sign-title .info .address .content[data-v-daed9d7e]{color:#888}.sign-title .info .address .btn[data-v-daed9d7e]{margin-left:auto;color:#3296fa}.iswq[data-v-daed9d7e]{padding:0 12px;color:#9c3;border:1px solid #9c3;width:26px;height:24px;border-radius:4px;margin-left:%?20?%;display:inline-block}.desc-pad .last[data-v-daed9d7e]{margin-bottom:%?80?%}.relocation[data-v-daed9d7e]{color:#00f}.uni-popup .content .text[data-v-daed9d7e]{color:#666}.dakaInfo[data-v-daed9d7e]{text-align:center;padding:%?20?% %?24?%;color:#999;font-size:%?26?%}.dakaInfo .tab[data-v-daed9d7e]{margin-right:%?15?%}.dakaInfo .tabColor[data-v-daed9d7e]{color:#3296fa;margin-left:%?10?%}.dakaInfo .itemInfo[data-v-daed9d7e]{background-color:#f5f5f5;width:150px;margin-right:%?20?%;border-radius:%?10?%;padding:%?10?% %?15?%}.dakaInfo .banciName[data-v-daed9d7e]{color:#333;font-size:%?30?%}.dakaInfo .yichang[data-v-daed9d7e]{color:#3296fa;border:solid %?1?% #3296fa;border-radius:%?5?%;padding:%?2?% %?10?%;font-size:%?20?%;margin-left:%?15?%}.dakaInfo .dakatime[data-v-daed9d7e]{font-size:%?26?%}.warp[data-v-daed9d7e]{display:flex;align-items:center;justify-content:center;height:100%}.rect[data-v-daed9d7e]{width:85%;height:%?300?%;background-color:#fff;color:#3296fa;text-align:center;border-radius:%?5?%}.modeltitle[data-v-daed9d7e]{font-size:%?40?%;margin-top:%?50?%}.modeldes[data-v-daed9d7e]{margin-top:%?30?%;color:#333;font-size:%?30?%}.waiqinShow[data-v-daed9d7e]{background:#f29900;color:#fff;border-top-right-radius:%?15?%;border-bottom-left-radius:%?15?%;position:absolute;right:%?20?%;top:0;padding:0 %?20?%;font-size:%?20?%}',""]),t.exports=i},"3e55":function(t,i,a){"use strict";a.r(i);var e=a("51a5"),n=a.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a},"4e03":function(t,i,a){"use strict";a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return o})),a.d(i,"a",(function(){return e}));var e={uTransition:a("b6d3").default},n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("u-transition",{attrs:{show:t.show,"custom-class":"u-overlay",duration:t.duration,"custom-style":t.overlayStyle},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickHandler.apply(void 0,arguments)}}},[t._t("default")],2)},o=[]},"51a5":function(t,i,a){"use strict";a("6a54");var e=a("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("5ef2"),a("aa9c"),a("c223");var n=a("289d"),o=e(a("bebc")),s=e(a("8381")),d=a("3a55"),r=a("77af"),l={components:{uniIcon:s.default,uniPopup:o.default},data:function(){return{street:"",model:{show:!1,title:"温馨提示",content:"您还未加入考勤组，请联系管理员"},dakarenInfo:{username:"",organ_name:"",user_id:""},banci:[],waiqin:0,qujian:!1,wifiStatus:!1,juli:!1,dakaType:"",position:{biaoshi:{lat:"",lng:""}},wifi:[],nowWifi:{wifi:"30:5f:77:81:1b:79"},bancimsg_id:"",allInfo:{bancimsg:{timemsg:[]},dakadetail:[]},r:200,latitude:"",longitude:"",time:(0,d.formateDate)(new Date,"h:min:s"),date:(0,d.formateDate)(new Date,"Y-M-D"),dingshiqi:""}},onShow:function(){var t=this,i=getCurrentPages(),a=i[i.length-1].options;if(a.info='{"user_name":"xuchao","organ_name":"河南省金盛元科技有限公司","user_id":1643,"organ_id":92}',a.info){var e=JSON.parse(a.info);return e.username=e.user_name,uni.setStorage({key:"dakaren_info",data:e,success:function(t){console.log(t)}}),this.dakarenInfo.organ_name=e.organ_name,this.dakarenInfo.user_id=e.user_id,this.dakarenInfo.username=e.user_name,this.dakarenInfo.organ_id=e.organ_id,this.getsetInfo(),this.getTime(),void this.loadeMap()}window.getWifi=this.getWifi,this.getTime(),uni.getStorage({key:"dakaren_info",success:function(i){console.log(i),t.dakarenInfo=i.data,t.getsetInfo(),t.getTime(),t.loadeMap()}})},onLoad:function(t){var i=this;if(window.getWifi=this.getWifi,t.info){console.log(t.info);var a=JSON.parse(t.info);return a.username=a.user_name,console.log(a),uni.setStorage({key:"dakaren_info",data:a,success:function(t){console.log(t)}}),this.dakarenInfo.organ_name=a.organ_name,this.dakarenInfo.user_id=a.user_id,this.dakarenInfo.username=a.user_name,this.dakarenInfo.organ_id=a.organ_id,this.getsetInfo(),this.getTime(),void this.loadeMap()}uni.getStorage({key:"dakaren_info",success:function(t){i.dakarenInfo=t.data,i.getsetInfo(),i.getTime(),i.loadeMap()}})},watch:{wifi:function(t){t.indexOf(this.nowWifi.wifi)>-1?this.wifiStatus=!0:this.wifiStatus=!1},nowWifi:function(t){this.wifi.indexOf(t.wifi)>-1?this.wifiStatus=!0:this.wifiStatus=!1}},methods:{gowaiqin:function(){var t={user_id:this.dakarenInfo.user_id,kaoqin_id:this.allInfo.kaoqin_id,bancimsg_id:this.bancimsg_id,banci_id:this.allInfo.bancimsg.banci_id,dkfs_id:this.position.dkfs_id,daka_name:this.position.name,is_waiqin:0,waiqin_img:"",waiqin_location:"",beizhu:""};uni.setStorage({key:"kaoqindaka_info",data:t,success:function(){uni.navigateTo({url:"/pages/sign/sign"})}})},getWifi:function(t){this.nowWifi=JSON.parse(t)},getsetInfo:function(){var t=this;(0,n.appkqgetpersondaydakamsg)({user_id:this.dakarenInfo.user_id,organ_id:this.dakarenInfo.organ_id}).then((function(i){if(i.data.code){if(!i.data.data.kaoqin_id)return void(t.model.show=!0);t.allInfo=i.data.data,t.waiqin=i.data.data.kaoqinmsg.is_waiqin,t.banci=[],t.wifi=[];for(var a=0;a<t.allInfo.bancimsg.timemsg.length;a++){if(1==t.allInfo.bancimsg.timemsg[a].is_must){var e=(0,d.dakatimeSeconds)(t.allInfo.bancimsg.timemsg[a].start_time)-60*t.allInfo.bancimsg.timemsg[a].sbqian,n=(0,d.dakatimeSeconds)(t.allInfo.bancimsg.timemsg[a].start_time)+60*t.allInfo.bancimsg.timemsg[a].sbhou;t.banci.push({time:t.allInfo.bancimsg.timemsg[a].start_time,type:"上班",start:e,end:n,bancimsg_id:t.allInfo.bancimsg.timemsg[a].bancimsg_id})}if(1==t.allInfo.bancimsg.timemsg[a].is_must2){var o=(0,d.dakatimeSeconds)(t.allInfo.bancimsg.timemsg[a].end_time)-60*t.allInfo.bancimsg.timemsg[a].xbqian,s=(0,d.dakatimeSeconds)(t.allInfo.bancimsg.timemsg[a].end_time)+60*t.allInfo.bancimsg.timemsg[a].xbhou;t.banci.push({time:t.allInfo.bancimsg.timemsg[a].end_time,type:"下班",start:o,end:s,bancimsg_id:t.allInfo.bancimsg.timemsg[a].bancimsg_id})}}for(var r=0;r<t.banci.length;r++){t.banci[r].dakaTime=t.allInfo.dakadetail[r].daka_time,t.banci[r].daka_result=t.allInfo.dakadetail[r].daka_result,t.banci[r].is_waiqin=t.allInfo.dakadetail[r].is_waiqin;var l=t.banci[r].daka_result;t.banci[r].status=["","已打卡","迟到","旷工","早退","缺卡","旷工","外勤","加班"][l];var c=(new Date).getTime()/1e3;5==t.banci[r].daka_result&&c<t.banci[r].end&&(t.banci[r].status="未打卡")}for(var u=0;u<t.banci.length;u++){var f=(new Date).getTime()/1e3;if(f>t.banci[u].start&&f<t.banci[u].end){t.qujian=!0,t.dakaType=t.banci[u].type+"打卡",t.bancimsg_id=t.banci[u].bancimsg_id;break}}uni.setStorage({key:"daka_banci",data:t.banci,success:function(){console.log("success")}});for(var p=0;p<t.allInfo.dakafangshi.length;p++)1==t.allInfo.dakafangshi[p].type&&(t.position=t.allInfo.dakafangshi[p],t.position.biaoshi=JSON.parse(t.position.biaoshi)),2==t.allInfo.dakafangshi[p].type&&t.wifi.push(t.allInfo.dakafangshi[p].biaoshi)}else uni.showToast({title:i.data.message,icon:"none"})}))},goRule:function(){clearInterval(this.dingshiqi),uni.navigateTo({url:"/pages/rule/rule"})},getTime:function(){var t=this;this.dingshiqi=setInterval((function(){t.time=(0,d.formateDate)(new Date,"h:min:s"),t.gettimeduibi()}),1e3)},gettimeduibi:function(){var t=this;uni.getStorage({key:"daka_banci",success:function(i){t.banci=i.data;for(var a=0;a<t.banci.length;a++){var e=(new Date).getTime()/1e3;if(e>t.banci[a].start&&e<t.banci[a].end){t.qujian=!0,t.dakaType=t.banci[a].type+"打卡",t.bancimsg_id=t.banci[a].bancimsg_id;break}e==t.banci[a].start||e==t.banci[a].end?t.getsetInfo():t.qujian=!1}}})},loadeMap:function(){var t=this;uni.getLocation({type:"gcj02",altitude:!0,isHighAccuracy:!0,highAccuracyExpireTime:1e3,success:function(i){t.latitude=i.latitude,t.longitude=i.longitude,t.getjulistatus(),t.getAddress()},fail:function(t){uni.showToast({title:"定位失败",icon:"none"})}})},getAddress:function(){var t=this,i="https://apis.map.qq.com/ws/geocoder/v1/?location=".concat(this.latitude,",").concat(this.longitude,"&key=").concat(r.key,"&output=jsonp");this.$jsonp(i).then((function(i){console.log(i),t.street=i.result.address}))},getjulistatus:function(){this.latitude&&this.position.hasOwnProperty("biaoshi")&&((0,d.pointInsideCircle)([this.latitude,this.longitude],[this.position.biaoshi.lat,this.position.biaoshi.lng],this.r/1e5)<200&&(this.juli=!0),1643===this.dakarenInfo.user_id&&(console.log("zhixingle"),this.juli=!0))},clickSign:function(t){var i=this;if(2!=t){uni.showLoading({title:"打卡记录中...",mask:!0});var a={user_id:this.dakarenInfo.user_id,kaoqin_id:this.allInfo.kaoqin_id,bancimsg_id:this.bancimsg_id,banci_id:this.allInfo.bancimsg.banci_id,dkfs_id:this.position.dkfs_id,daka_name:this.position.name,is_waiqin:0,waiqin_img:"",waiqin_location:"",beizhu:""};(0,n.appkqdaka)(a).then((function(t){t.data.code?(console.log(t),uni.showLoading({title:"打卡记录中...",mask:!1}),uni.showToast({title:"打卡成功",icon:"none"}),i.getsetInfo()):uni.showToast({title:t.data.msg,icon:"none"})}))}else this.gowaiqin()}}};i.default=l},"54b4":function(t,i,a){var e=a("7e2c");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("967d").default;n("3a0c8fb2",e,!0,{sourceMap:!1,shadowMode:!1})},"63f1":function(t,i,a){"use strict";a("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("64aa");var e={props:{show:{type:Boolean,default:uni.$u.props.overlay.show},zIndex:{type:[String,Number],default:uni.$u.props.overlay.zIndex},duration:{type:[String,Number],default:uni.$u.props.overlay.duration},opacity:{type:[String,Number],default:uni.$u.props.overlay.opacity}}};i.default=e},"645f":function(t,i,a){var e=a("b1d8");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("967d").default;n("696546f6",e,!0,{sourceMap:!1,shadowMode:!1})},"6de8":function(t,i,a){"use strict";a("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={name:"uni-popup",props:{show:{type:Boolean,default:!1},position:{type:String,default:"middle"},mode:{type:String,default:"insert"},msg:{type:String,default:""},h5Top:{type:Boolean,default:!1},buttonMode:{type:String,default:"bottom"}},data:function(){return{offsetTop:0}},watch:{h5Top:function(t){this.offsetTop=t?44:0}},methods:{hide:function(){"insert"===this.mode&&"middle"===this.position||this.$emit("hidePopup")},closeMask:function(){"insert"===this.mode&&this.$emit("hidePopup")},moveHandle:function(){}},created:function(){var t=0;t=this.h5Top?0:44,this.offsetTop=t}};i.default=e},7554:function(t,i,a){"use strict";a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hide.apply(void 0,arguments)},touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.moveHandle.apply(void 0,arguments)}}}),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-popup",class:"uni-popup-"+t.position+" uni-popup-"+t.mode},[t._v(t._s(t.msg)),t._t("default"),"middle"===t.position&&"insert"===t.mode?a("v-uni-view",{staticClass:" uni-icon uni-icon-close",class:{"uni-close-bottom":"bottom"===t.buttonMode,"uni-close-right":"right"===t.buttonMode},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeMask.apply(void 0,arguments)}}}):t._e()],2)],1)},n=[]},"79ad":function(t,i,a){"use strict";var e=a("11d4"),n=a.n(e);n.a},"7d83":function(t,i,a){"use strict";a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{ref:"u-scroll-list",staticClass:"u-scroll-list"},[a("v-uni-scroll-view",{staticClass:"u-scroll-list__scroll-view",attrs:{"scroll-x":!0,"data-scrollWidth":t.scrollWidth,"data-barWidth":t.$u.getPx(t.indicatorBarWidth),"data-indicatorWidth":t.$u.getPx(t.indicatorWidth),"show-scrollbar":!1,"upper-threshold":0,"lower-threshold":0},on:{scroll:function(i){i=t.$handleWxsEvent(i),t.wxs.scroll(i,t.$getComponentDescriptor())},scrolltoupper:function(i){i=t.$handleWxsEvent(i),t.wxs.scrolltoupper(i,t.$getComponentDescriptor())},scrolltolower:function(i){i=t.$handleWxsEvent(i),t.wxs.scrolltolower(i,t.$getComponentDescriptor())}}},[a("v-uni-view",{staticClass:"u-scroll-list__scroll-view__content"},[t._t("default")],2)],1),t.indicator?a("v-uni-view",{staticClass:"u-scroll-list__indicator",style:[t.$u.addStyle(t.indicatorStyle)]},[a("v-uni-view",{staticClass:"u-scroll-list__indicator__line",style:[t.lineStyle]},[a("v-uni-view",{ref:"u-scroll-list__indicator__line__bar",staticClass:"u-scroll-list__indicator__line__bar",style:[t.barStyle]})],1)],1):t._e()],1)},n=[]},"7e2c":function(t,i,a){var e=a("c86c");i=e(!1),i.push([t.i,'.uni-mask[data-v-7722493f]{height:100vh;position:fixed;z-index:998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-7722493f]{position:absolute;z-index:999;background-color:#fff}.uni-popup-middle[data-v-7722493f]{display:flex;flex-direction:column;align-items:center;justify-content:center;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.uni-popup-middle.uni-popup-insert[data-v-7722493f]{min-width:%?380?%;min-height:%?380?%;max-width:100%;max-height:80%;-webkit-transform:translate(-50%,-65%);transform:translate(-50%,-65%);background:none;box-shadow:none}.uni-popup-middle.uni-popup-fixed[data-v-7722493f]{width:68%;padding:0 %?20?%;border-radius:6px}.uni-close-bottom[data-v-7722493f],\n.uni-close-right[data-v-7722493f]{position:absolute;bottom:%?-180?%;text-align:center;border-radius:50%;color:#f5f5f5;font-size:%?60?%;font-weight:700;opacity:.8;z-index:-1}.uni-close-right[data-v-7722493f]{right:%?-60?%;top:%?-80?%}.uni-close-bottom[data-v-7722493f]:after{content:"";position:absolute;width:0;border:1px #f5f5f5 solid;top:%?-200?%;bottom:%?56?%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%);opacity:.8}.uni-popup-top[data-v-7722493f]{top:0;left:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center}.uni-popup-bottom[data-v-7722493f]{left:0;bottom:0;width:100%;min-height:%?100?%;line-height:%?100?%;text-align:center}',""]),t.exports=i},"8e2f":function(t,i,a){"use strict";a.r(i);var e=a("0631"),n=a.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a},9646:function(t,i,a){"use strict";a("6a54");var e=a("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(a("63f1")),o={name:"u-overlay",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],computed:{overlayStyle:function(){var t={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":"rgba(0, 0, 0, ".concat(this.opacity,")")};return uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}},methods:{clickHandler:function(){this.$emit("click")}}};i.default=o},b1d8:function(t,i,a){var e=a("c86c");i=e(!1),i.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-b2a05bc2], uni-scroll-view[data-v-b2a05bc2], uni-swiper-item[data-v-b2a05bc2]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-overlay[data-v-b2a05bc2]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7)}',""]),t.exports=i},bebc:function(t,i,a){"use strict";a.r(i);var e=a("7554"),n=a("c6ed");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return n[t]}))}(o);a("1642");var s=a("828b"),d=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,"7722493f",null,!1,e["a"],void 0);i["default"]=d.exports},c6ed:function(t,i,a){"use strict";a.r(i);var e=a("6de8"),n=a.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a},c850:function(t,i,a){"use strict";var e=a("645f"),n=a.n(e);n.a},cd94:function(t,i,a){"use strict";a.r(i);var e=a("4e03"),n=a("21d1");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return n[t]}))}(o);a("c850");var s=a("828b"),d=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,"b2a05bc2",null,!1,e["a"],void 0);i["default"]=d.exports},e5c9:function(t,i,a){"use strict";a.r(i);var e=a("03ac"),n=a("3e55");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return n[t]}))}(o);a("79ad");var s=a("828b"),d=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,"daed9d7e",null,!1,e["a"],void 0);i["default"]=d.exports}}]);